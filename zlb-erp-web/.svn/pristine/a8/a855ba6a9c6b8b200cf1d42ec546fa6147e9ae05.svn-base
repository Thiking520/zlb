<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="report" language="groovy" pageWidth="283" pageHeight="283" columnWidth="278" leftMargin="3" rightMargin="2" topMargin="3" bottomMargin="2" isFloatColumnFooter="true" uuid="c860c868-e92e-4a85-97c7-4742359de0ba">
	<property name="ireport.zoom" value="2.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="81"/>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA[""]]></defaultValueExpression>
	</parameter>
	<queryString language="json">
		<![CDATA[]]>
	</queryString>
	<field name="orderId" class="java.lang.String"/>
	<field name="consumerName" class="java.lang.String"/>
	<field name="consumerMobile" class="java.lang.String"/>
	<field name="consumerAddress" class="java.lang.String"/>
	<field name="waybillId" class="java.lang.String"/>
	<field name="siteName" class="java.lang.String"/>
	<field name="displayOrderId" class="java.lang.String"/>
	<field name="goodsList" class="java.com.zhilianbao.erp.util.List"/>
	<field name="disWaybillId" class="java.lang.String"/>
	<group name="disWaybillId_group" isStartNewPage="true" isResetPageNumber="true">
		<groupExpression><![CDATA[$F{displayOrderId}]]></groupExpression>
	</group>
	<pageHeader>
		<band height="140" splitType="Stretch">
			<textField isBlankWhenNull="true">
				<reportElement stretchType="RelativeToTallestObject" x="81" y="68" width="97" height="14" uuid="76edf19c-36f9-4dfd-936d-c6a06390cd14"/>
				<textElement verticalAlignment="Middle">
					<font fontName="SimSun" size="12" isBold="true" pdfEncoding="UniGB-UCS2-H" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{consumerMobile}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement stretchType="RelativeToTallestObject" x="6" y="68" width="81" height="14" uuid="2b37e708-c26c-4773-b4b0-837725234a90"/>
				<textElement verticalAlignment="Middle">
					<font fontName="SimSun" size="12" isBold="true" pdfEncoding="UniGB-UCS2-H" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{consumerName}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement stretchType="RelativeToTallestObject" x="6" y="87" width="172" height="53" uuid="eee1aafd-7bfd-4848-886e-cac2a6ca4518"/>
				<textElement verticalAlignment="Top">
					<font fontName="SimSun" size="12" isBold="true" pdfEncoding="UniGB-UCS2-H" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{consumerAddress}]]></textFieldExpression>
			</textField>
			<image hAlign="Center" vAlign="Middle">
				<reportElement x="6" y="3" width="166" height="30" uuid="40786c74-0d40-4d47-be47-7a39aeb693cf"/>
				<imageExpression><![CDATA[com.google.zxing.client.j2se.MatrixToImageWriter.toBufferedImage(new com.google.zxing.oned.Code128Writer().encode($F{disWaybillId},com.google.zxing.BarcodeFormat.CODE_128,188,40))]]></imageExpression>
			</image>
			<textField isBlankWhenNull="true">
				<reportElement x="0" y="36" width="178" height="12" uuid="5330cec2-44a2-4a96-ac24-6a0c50f0548f"/>
				<textElement textAlignment="Center" verticalAlignment="Top">
					<font fontName="SimSun" size="10" isBold="true" pdfEncoding="UniGB-UCS2-H" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{disWaybillId}]]></textFieldExpression>
			</textField>
			<image hAlign="Center" vAlign="Middle">
				<reportElement x="178" y="50" width="100" height="90" uuid="87f33f07-cf1a-423f-b275-a44f8cddcc61"/>
				<imageExpression><![CDATA[com.google.zxing.client.j2se.MatrixToImageWriter.toBufferedImage(new com.google.zxing.qrcode.QRCodeWriter().encode($F{disWaybillId},com.google.zxing.BarcodeFormat.QR_CODE,200,180))]]></imageExpression>
			</image>
			<textField isBlankWhenNull="true">
				<reportElement x="178" y="3" width="100" height="45" uuid="1f285151-5281-4a48-8643-e245464fe1d2"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="SimSun" size="14" isBold="true" pdfEncoding="UniGB-UCS2-H" isPdfEmbedded="true"/>
					<paragraph leftIndent="4" rightIndent="4"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{siteName}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="0" y="0" width="178" height="50" uuid="403b213d-a3c7-46d5-bbad-bcbf11f976dc"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement markup="none">
					<font fontName="SimSun" isBold="true" pdfEncoding="UniGB-UCS2-H" isPdfEmbedded="true"/>
				</textElement>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="178" y="0" width="100" height="50" uuid="fdfaa7e7-1140-4062-aed8-afa2f12d8b73"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement markup="none">
					<font fontName="SimSun" isBold="true" pdfEncoding="UniGB-UCS2-H" isPdfEmbedded="true"/>
				</textElement>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="0" y="50" width="178" height="90" uuid="7ba3f2e5-9acf-4d02-a569-4cb9a25fa142"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement markup="none">
					<font fontName="SimSun" isBold="true" pdfEncoding="UniGB-UCS2-H" isPdfEmbedded="true"/>
				</textElement>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="178" y="50" width="100" height="90" uuid="9e38ea33-bd9b-46dd-85cf-d0eeebdbaa33"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement markup="none">
					<font fontName="SimSun" isBold="true" pdfEncoding="UniGB-UCS2-H" isPdfEmbedded="true"/>
				</textElement>
			</textField>
		</band>
	</pageHeader>
	<detail>
		<band height="116" splitType="Stretch">
			<subreport>
				<reportElement x="0" y="0" width="278" height="108" uuid="2d1f5113-854c-4512-8548-21c9d5c5a2a1"/>
				<subreportParameter name="SUBREPORT_DIR">
					<subreportParameterExpression><![CDATA[$P{SUBREPORT_DIR}]]></subreportParameterExpression>
				</subreportParameter>
				<dataSourceExpression><![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{goodsList})]]></dataSourceExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR} + "rptWaybill_subreport_goods.jasper"]]></subreportExpression>
			</subreport>
			<textField isBlankWhenNull="true">
				<reportElement x="0" y="0" width="278" height="115" isPrintWhenDetailOverflows="true" uuid="bee27a98-69ec-4b35-ba1b-cde628cd8503"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement markup="none">
					<font fontName="SimSun" isBold="true" pdfEncoding="UniGB-UCS2-H" isPdfEmbedded="true"/>
				</textElement>
			</textField>
		</band>
	</detail>
	<pageFooter>
		<band height="22" splitType="Stretch">
			<textField isBlankWhenNull="true">
				<reportElement x="0" y="0" width="278" height="22" uuid="871b8acf-4561-4282-921d-98f5484feba0"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement markup="none">
					<font fontName="SimSun" isBold="true" pdfEncoding="UniGB-UCS2-H" isPdfEmbedded="true"/>
				</textElement>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="6" y="0" width="166" height="22" uuid="37fcaef7-744a-4010-b58a-541d09b1d62b"/>
				<textElement verticalAlignment="Middle">
					<font fontName="SimSun" size="12" isBold="true" pdfEncoding="UniGB-UCS2-H" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{displayOrderId}]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Group" evaluationGroup="disWaybillId_group" isBlankWhenNull="false">
				<reportElement x="178" y="0" width="47" height="22" uuid="09227f48-6fd5-457f-93d0-be287bb64ff1"/>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font fontName="SimSun" size="12" isBold="true" isUnderline="false" pdfEncoding="UniGB-UCS2-H" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA["共"+$V{PAGE_NUMBER}+"页,"]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="225" y="0" width="47" height="22" uuid="f03357f6-e927-405f-83c5-489b810009e1"/>
				<textElement verticalAlignment="Middle">
					<font fontName="SimSun" size="12" isBold="true" pdfEncoding="UniGB-UCS2-H" isPdfEmbedded="true"/>
				</textElement>
				<textFieldExpression><![CDATA["第"+$V{PAGE_NUMBER}+"页"]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
</jasperReport>
