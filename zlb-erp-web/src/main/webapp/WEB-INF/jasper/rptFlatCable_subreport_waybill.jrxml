<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="rptDispatchVehicle_subreport_waybill" language="groovy" pageWidth="567" pageHeight="802" columnWidth="567" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" uuid="4282ce43-ab4d-4474-a5c8-a28a946f83b4">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA[""]]></defaultValueExpression>
	</parameter>
	<field name="waybillId" class="java.lang.String"/>
	<field name="orderId" class="java.lang.String"/>
	<field name="consumerName" class="java.lang.String"/>
	<field name="consumerMobile" class="java.lang.String"/>
	<field name="consumerAddress" class="java.lang.String"/>
	<field name="buyersLeave" class="java.lang.String"/>
	<field name="sellerLeave" class="java.lang.String"/>
	<field name="goodsList" class="java.com.zhilianbao.erp.util.List"/>
	<field name="consumerArea" class="java.lang.String"/>
	<field name="consumerStreet" class="java.lang.String"/>
	<field name="disWaybillId" class="java.lang.String"/>
	<detail>
		<band height="150" splitType="Stretch">
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToTallestObject" x="438" y="0" width="69" height="150" isPrintWhenDetailOverflows="true" uuid="5c825c96-d745-4406-a0a2-ca7a38155117"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="SimSun" size="10" isBold="true" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
					<paragraph leftIndent="2" rightIndent="2" spacingBefore="2" spacingAfter="2"/>
				</textElement>
				<textFieldExpression><![CDATA["街道："+$F{consumerArea}+($F{consumerStreet}==null||"".equals($F{consumerStreet})?"":(">>"+ $F{consumerStreet})) + "\n\r"+"详细地址："+$F{consumerAddress}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToTallestObject" x="26" y="0" width="80" height="150" isPrintWhenDetailOverflows="true" uuid="b1fd8ae0-d57a-4da7-a542-13f7ca4ad1d5"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="SimSun" size="10" isBold="true" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
					<paragraph leftIndent="2" rightIndent="2" spacingBefore="2" spacingAfter="2"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{disWaybillId}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToTallestObject" x="0" y="0" width="26" height="150" isPrintWhenDetailOverflows="true" uuid="81c7d4d3-fff7-4484-ba03-32524a045ffb"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="SimSun" size="10" isBold="true" pdfEncoding="Identity-H"/>
					<paragraph leftIndent="2" rightIndent="2" spacingBefore="2" spacingAfter="2"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{COLUMN_COUNT}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToTallestObject" x="507" y="0" width="60" height="150" isPrintWhenDetailOverflows="true" uuid="97071038-44b0-4eb2-bc0d-7dec9edfdc7b"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="SimSun" size="10" isBold="true" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
					<paragraph leftIndent="2" rightIndent="2" spacingBefore="2" spacingAfter="2"/>
				</textElement>
				<textFieldExpression><![CDATA["买家留言："+(($F{buyersLeave}==null||"".equals($F{buyersLeave}))?"无":$F{buyersLeave})+"\n\r"+"卖家留言："+(($F{sellerLeave}==null||"".equals($F{sellerLeave}))?"无":$F{sellerLeave})]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToTallestObject" x="106" y="0" width="272" height="150" isPrintWhenDetailOverflows="true" uuid="2ef7b891-3ba8-439b-b91f-bb716b7a63af"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="SimSun" size="14" isBold="true" pdfEncoding="Identity-H"/>
					<paragraph leftIndent="2" rightIndent="2" spacingBefore="2" spacingAfter="2"/>
				</textElement>
			</textField>
			<subreport>
				<reportElement stretchType="RelativeToBandHeight" isPrintRepeatedValues="false" x="106" y="0" width="272" height="150" isPrintWhenDetailOverflows="true" uuid="124905d2-c000-40ac-af82-e9187a85ae9d"/>
				<subreportParameter name="SUBREPORT_DIR">
					<subreportParameterExpression><![CDATA[$P{SUBREPORT_DIR}]]></subreportParameterExpression>
				</subreportParameter>
				<dataSourceExpression><![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($F{goodsList})]]></dataSourceExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR} + "rpt_subreport_waybill_goods.jasper"]]></subreportExpression>
			</subreport>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement stretchType="RelativeToTallestObject" x="378" y="0" width="60" height="150" isPrintWhenDetailOverflows="true" uuid="7f9517b0-8d2c-4955-b1cb-cba6a0f6fdd2"/>
				<box>
					<pen lineWidth="1.0"/>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="SimSun" size="10" isBold="true" pdfEncoding="Identity-H" isPdfEmbedded="true"/>
					<paragraph leftIndent="2" rightIndent="2" spacingBefore="2" spacingAfter="2"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{consumerName}+"\n\r" +$F{consumerMobile}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
</jasperReport>
