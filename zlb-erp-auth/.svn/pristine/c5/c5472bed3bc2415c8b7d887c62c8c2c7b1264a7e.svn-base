<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.zhilianbao.erp.auth.mapper.systemparameter.BaseAreaMapper">
	<select id="queryArea" parameterType="String" resultMap="BaseResultMap">
		SELECT * FROM t_base_area WHERE parent_id=(SELECT id FROM t_base_area WHERE area_name=#{cityName})
	</select>

	<resultMap id="BaseResultMap"
		type="com.zhilianbao.erp.auth.entity.systemparameter.BaseAreaBean">
		<!-- WARNING - @mbggenerated -->
		<result column="id" property="id" jdbcType="BIGINT" />
		<result column="area_name" property="areaName" jdbcType="VARCHAR" />
		<result column="parent_id" property="parentId" jdbcType="BIGINT" />
		<result column="short_name" property="shortName" jdbcType="VARCHAR" />
		<result column="lng" property="lng" jdbcType="DECIMAL" />
		<result column="lat" property="lat" jdbcType="DECIMAL" />
		<result column="level" property="level" jdbcType="INTEGER" />
		<result column="position" property="position" jdbcType="VARCHAR" />
		<result column="sort" property="sort" jdbcType="INTEGER" />
	</resultMap>
	
	<select id="mulArea" parameterType="list" resultMap="BaseResultMap">
     select *
		from t_base_area
      <where>
          <if test="list != null">
              id in 
	          <foreach collection="list" item="item" open="(" close=")" separator="," index="index">
	              #{item}
	          </foreach>
          </if>
      </where>
  </select>
  
  	<select id="queryAreaId" parameterType="long" resultMap="BaseResultMap">
		select *
		from t_base_area
		where id=#{id}
	</select>
</mapper>